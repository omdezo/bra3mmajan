@import "tailwindcss";

@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans;
  }

  html {
    scroll-behavior: smooth;
  }

  /* Prevent layout shift and improve animation performance */
  img {
    content-visibility: auto;
  }

  /* Optimize animations */
  [data-animate] {
    will-change: transform, opacity;
  }

  /* Better scroll performance */
  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Prevent content flash */
  .min-h-screen {
    min-height: 100vh;
    min-height: 100dvh;
  }
}

@layer utilities {
  .clip-cloud {
    background: radial-gradient(16px at 50% 50%, white 98%, transparent) 0 0;
    background-size: 32px 32px;
  }

  .clip-path-tree {
    clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
  }

  .clip-path-tent {
    clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
  }

  .transform-style-3d {
    transform-style: preserve-3d;
  }

  .clip-path-bird {
    clip-path: polygon(0% 50%, 40% 40%, 100% 0%, 60% 60%, 40% 100%, 20% 60%);
  }

  .clip-path-mountain {
    clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
  }

  .clip-path-trunk {
    clip-path: polygon(20% 0%, 80% 0%, 100% 100%, 0% 100%);
  }

  .clip-path-mosque {
    clip-path: path('M 0,256 L 0,100 Q 128,-50 256,100 T 512,100 L 512,256 Z');
    /* Simplified dome shape placeholder, works best if width/height match viewbox */
    clip-path: polygon(20% 100%, 20% 40%, 40% 10%, 60% 10%, 80% 40%, 80% 100%);
  }

  .clip-path-bucket {
    clip-path: polygon(10% 0%, 90% 0%, 80% 100%, 20% 100%);
  }

  .clip-path-lamp {
    clip-path: polygon(20% 40%, 80% 40%, 100% 60%, 80% 90%, 20% 90%, 0% 60%);
  }

  .perspective-1000 {
    perspective: 1000px;
  }
}

@layer utilities {
  @keyframes blob {
    0% {
      transform: translate(0px, 0px) scale(1);
    }

    33% {
      transform: translate(30px, -50px) scale(1.1);
    }

    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }

    100% {
      transform: translate(0px, 0px) scale(1);
    }
  }

  .animate-blob {
    animation: blob 7s infinite;
  }

  .animation-delay-2000 {
    animation-delay: 2s;
  }

  .animation-delay-4000 {
    animation-delay: 4s;
  }

  .clip-path-balloon {
    clip-path: circle(50% at 50% 35%);
    /* Simplified for basic shape, adjusted below */
    clip-path: path('M 128,0 C 128,0 256,40 256,150 C 256,240 160,300 128,320 C 96,300 0,240 0,150 C 0,40 128,0 128,0 Z');
  }
}